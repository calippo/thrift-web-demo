<!DOCTYPE html>
<html lang="en">
<head>
    <title>Demo</title>
    <script src="thrift.js" type="text/javascript"></script>
    <script src="gen-js/HelloSvc.js" type="text/javascript"></script>
</head>
<body>
    <h1>Demo</h1>
    <button id="btn">Get Message from Node Server</button>
    <script type="text/javascript">
        document.getElementById("btn").addEventListener("click", getMessage, false);

        function getMessage() {
            var transport = new Thrift.TXHRTransport("http://localhost:8585/hello");
            var protocol  = new Thrift.TJSONProtocol(transport);
            var client = new HelloSvcClient(protocol);
            var msg = client.hello_func();
            document.getElementById("output").innerHTML = msg;
        }

    </script>
    <h2>Server Response: <div id="output"></div></h2>
</body> 
</html>

